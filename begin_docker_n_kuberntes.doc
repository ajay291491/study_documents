#---------------------------------------------------------------------------------------------
#  Chapter 01 - Introduction to Docker
#---------------------------------------------------------------------------------------------
# * Install Docker
# You can install Docker by install below two packages 
# | 
# | [root@dockerstation01 ~]# rpm -qa| grep -i docker
# | [root@dockerstation01 ~]# rpm -qa| grep -i docker
# | docker-ce-cli-18.09.6-3.el7.x86_64
# | docker-ce-18.09.1-3.el7.x86_64
# | [root@dockerstation01 ~]#
# | 
#
# * Verify the installation 
# You can verify the instllation of docker server and client by running below command 
# | 
# | [root@dockerstation01 ~]# docker version
# | Client:
# |  Version:           18.09.6
# |  API version:       1.39
# |  Go version:        go1.10.8
# |  Git commit:        481bc77156
# |  Built:             Sat May  4 02:34:58 2019
# |  OS/Arch:           linux/amd64
# |  Experimental:      false
# |
# | Server: Docker Engine - Community
# |  Engine:
# |   Version:          18.09.1
# |   API version:      1.39 (minimum version 1.12)
# |   Go version:       go1.10.6
# |   Git commit:       4c52b90
# |   Built:            Wed Jan  9 19:06:30 2019
# |   OS/Arch:          linux/amd64
# |   Experimental:     false
# | [root@dockerstation01 ~]#
# |
#
# * How to start a container 
# To start a container you will need to run the 'docker run' command. When you start a container there are few steps happens in the background 
#
# Syntax : docker run <image_name>
#
# Below are few steps which is outlined in the chronological order while running a docker run command 
#
# 1. When you run the command docker client contacts the docker server for image location
# 2. Then Docker server verifies the image in its cache, if its available it helps to start the image from the cache
# 3. Incase there is no cache available then it forwards the requst to container image repository "Docker Hub'
# 4. It checks for the image in the docker hub and then pulls that image int0 local repository or cache 
# 5. Then docker client will start the container from the image which has downloaded.
#
# Example : Below is an example to start a 'hello-world' program. 
#
# | [root@dockerstation01 ~]# docker run hello-world
# |
# | Hello from Docker!
# | This message shows that your installation appears to be working correctly.
# |
# | To generate this message, Docker took the following steps:
# |  1. The Docker client contacted the Docker daemon.
# |  2. The Docker daemon pulled the "hello-world" image from the Docker Hub.
# |     (amd64)
# |  3. The Docker daemon created a new container from that image which runs the
# |     executable that produces the output you are currently reading.
# |  4. The Docker daemon streamed that output to the Docker client, which sent it
# |     to your terminal.
# |
# | To try something more ambitious, you can run an Ubuntu container with:
# |  $ docker run -it ubuntu bash
# |
# | Share images, automate workflows, and more with a free Docker ID:
# |  https://hub.docker.com/
# |
# | For more examples and ideas, visit:
# |  https://docs.docker.com/get-started/
# |
# | [root@dockerstation01 ~]#
# |
# NOTE : Below tutorial will explain about how docker run works
# https://www.udemy.com/docker-and-kubernetes-the-complete-guide/learn/lecture/11436626?start=79#bookmarks
#
#
# * What happens when you install docker container
# When you install docker container there will be a Linux virtual machine gets installed in the background which acts as the Docker Server
# You can see docker server operating system details in the 'docker version' command to verify this. 
# Any container process which runs will be from this container, this will be true regardless the underlying OS is Linux, Windows or Mac.
#
# Docker installation layering is done like below. 
# - Underlying Operating system (Windows / Linux / Mac)
# - Docker Server Linux VM gets created on top of the OS 
# - Docker contaner process running inside the Docker Server Linux VM
#
# NOTE : Udemy Detailed Tutorial on the Docker layers and how its works 
# https://www.udemy.com/docker-and-kubernetes-the-complete-guide/learn/lecture/11436636?start=1#bookmarks
#
#
# * What is a Docker Image and container
# Docker image is a collection of software and filesystem snapshot along with a set of steps which can be used to startup a container.
# Container is a set of process which spins up with the instruction given from the docker images
# 
# NOTE : Below udemy tutorial gives a complete details about container image. 
# https://www.udemy.com/docker-and-kubernetes-the-complete-guide/learn/lecture/11436632?start=422#bookmarks 
#
# 
# * What is namespacing and cgroups
# namespacing - namespacing a Linux feature which allows to isolate resourse per processs or group of process 
# cgroups     - cgroups also a Linux feature which limit the amount of resources used per process 
#
# NOTE : https://www.udemy.com/docker-and-kubernetes-the-complete-guide/learn/lecture/11436636?start=63#bookmarks
#
#---------------------------------------------------------------------------------------------
#  Chapter 02 - Manipulating a docker Container
#---------------------------------------------------------------------------------------------
#
# * Executing commands in Container 
# When you are running a command insider a docker container that will work only if that contaner image contains that commands embedded inside. 
# If the container image is not embedded with the commands then the command won't work 
#
# Examples : Below are two instances where the same command behave in different while executing in two different containers
#
# | [root@dockerstation01 ~]# docker run hello-world uptime
# | docker: Error response from daemon: OCI runtime create failed: container_linux.go:348: starting container process caused "exec: \"uptime\": executable file not found in $PATH": unknown.
# | [root@dockerstation01 ~]# docker run busybox uptime
# |  23:26:30 up  1:53,  0 users,  load average: 0.07, 0.02, 0.01
# | [root@dockerstation01 ~]# 
#
# Note : Here uptime command was not embedded in the 'hello-world' image where its available in 'busybox' 
#
# To run a command in a docker container you will need to follow below syntax 
#
# syntax : docker run <image> <command>
#
# * ps command
# This command can be used to find the list of running continers. 
# When you add '--all' parameter to the command then its going to give the details about all the commands ran in the past
#
# Syntax : docker ps 
#        : docker ps --all
#
# Example : Running the command to show currently running containers
#
# | [root@dockerstation01 ~]# docker ps 
# | CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES
# | 3d488796f6ab        busybox             "top"               6 seconds ago       Up 4 seconds                            optimistic_mahavira
# | [root@dockerstation01 ~]# 
#
# Example : Running the command to show the history of all containers 
#
# | [root@dockerstation01 ~]# docker ps --all
# | CONTAINER ID        IMAGE               COMMAND                  CREATED              STATUS                        PORTS               NAMES
# | 3d488796f6ab        busybox             "top"                    About a minute ago   Up About a minute                                 optimistic_mahavira
# | ce70ccd4eaba        busybox             "uptime"                 7 minutes ago        Exited (0) 7 minutes ago                          blissful_fermat
# | 9e3a5166cd32        hello-world         "uptime"                 7 minutes ago        Created                                           sleepy_babbage
# | df515bd2bc4a        busybox             "ls etc"                 19 minutes ago       Exited (0) 19 minutes ago                         romantic_goldberg
# | 7b6d14cdc48c        busybox             "ls"                     19 minutes ago       Exited (0) 19 minutes ago                         focused_kapitsa
# | 1af30959d59f        busybox             "systemctl -a"           19 minutes ago       Created                                           epic_beaver
# | 4356fa5da624        busybox             "uname -a"               19 minutes ago       Exited (0) 19 minutes ago                         reverent_wu
# | feec6f069754        busybox             "cat /etc/redhat-rel…"   20 minutes ago       Exited (1) 20 minutes ago                         festive_edison
# | bbfc0aaa39d9        busybox             "uname -r"               20 minutes ago       Exited (0) 20 minutes ago                         eloquent_noyce
# | cbbe3a745190        busybox             "top"                    20 minutes ago       Exited (130) 20 minutes ago                       elegant_banzai
# | dd4a37b07df2        busybox             "ping yahoo.com"         20 minutes ago       Exited (1) 20 minutes ago                         xenodochial_cori
# | 188cf85a7b3f        busybox             "ping google.com"        21 minutes ago       Exited (1) 20 minutes ago                         sad_shockley
# | e875caa538be        busybox             "ping"                   21 minutes ago       Exited (1) 21 minutes ago                         peaceful_snyder
# | 5f88bfa642d2        busybox             "uptime"                 22 minutes ago       Exited (0) 22 minutes ago                         hopeful_payne
# | 486ffb75e744        busybox             "sh"                     22 minutes ago       Exited (0) 22 minutes ago                         hopeful_heyrovsky
# | dd0a1203e18c        hello-world         "uptime"                 31 minutes ago       Created                                           pedantic_jackson
# | f7dfeb40ecde        hello-world         "ls"                     31 minutes ago       Created                                           compassionate_fermi
# | 9b7a8dc92eff        hello-world         "/hello"                 2 hours ago          Exited (0) 2 hours ago                            festive_colden
# | 64392280e628        hello-world         "/hello"                 2 weeks ago          Exited (0) 2 weeks ago                            sleepy_sinoussi
# | 779c5c963c0c        hello-world         "/hello"                 2 weeks ago          Exited (0) 2 weeks ago                            clever_heyrovsky
# | [root@dockerstation01 ~]#
# |
#
# * Understanding the docker run 
# When you are invoking the docker run command it actually a combination of docker create and docker start commands. 
#
# docker run = docker create <image_name> + docker run <container ID>
#
# * Docker create 
# Docker create will help you to create a writable container from a container image. 
# This is useful when you want to create a container with some specific command which need to be in a ready to create state later. 
# Once you create the container the container state will be in the "Created" status. 
#
# Syntax : docker create <image_name>
#
# Example : Below example is to create a fedora container
#
# | [ec2-user@ip-172-31-21-124 ~]$ sudo docker create ubuntu
# | Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.
# | Trying to pull registry.redhat.io/ubuntu:latest...Failed
# | Trying to pull quay.io/ubuntu:latest...Failed
# | Trying to pull docker.io/ubuntu:latest...Getting image source signatures
# | Copying blob 6abc03819f3e: 27.52 MiB / 27.52 MiB [==========================] 1s
# | Copying blob 05731e63f211: 844 B / 844 B [==================================] 1s
# | Copying blob 0bd67c50d6be: 164 B / 164 B [==================================] 1s
# | Copying config 7698f282e524: 3.27 KiB / 3.27 KiB [==========================] 0s
# | Writing manifest to image destination
# | Storing signatures
# | 348902c0561cc725828c4f79a7206cd19d6a3789567f158043aedb0610d6aa50
# | [ec2-user@ip-172-31-21-124 ~]$
# |
# | [ec2-user@ip-172-31-21-124 ~]$ sudo docker ps -a
# | Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.
# | CONTAINER ID  IMAGE                                 COMMAND    CREATED        STATUS                 PORTS  NAMES
# | 348902c0561c  docker.io/library/ubuntu:latest       /bin/bash  3 seconds ago  Created                       gifted_booth  --> You can see the container in the Created State
# | 779800ec7966  docker.io/library/busybox:latest      sh         2 days ago     Exited (0) 2 days ago         admiring_nightingale
# | 9a20dd1593c4  docker.io/library/hello-world:latest  /hello     2 days ago     Exited (0) 2 days ago         kind_kalam
# | [ec2-user@ip-172-31-21-124 ~]$
# |
#
# Detail Tutoroial : https://www.udemy.com/docker-and-kubernetes-the-complete-guide/learn/lecture/11436650?start=79#bookmarks
#
# * Docker start
# Docker start will help you to start the container which is already  created. 
# This will be useful when you want to start a conatiner again and again which is already created 
#
# Syntax : docker start [-a] <container_ID>
#
# If you are using "-a" string then it will attach the startingh output to the terminal, i.e STDOUT, STDERR and forward will be printed on the console 
#
# Example : Below is an example for starting a container which is already created 
#
# | [ec2-user@ip-172-31-21-124 ~]$ sudo docker create ubuntu uptime
# | Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.
# | fc4f9980fe0addc25a7584f360a6dc82a0fefa9433ff8b0ea9e970da935ca33d
# | [ec2-user@ip-172-31-21-124 ~]$
# | [ec2-user@ip-172-31-21-124 ~]$ sudo docker ps -a
# | Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.
# | CONTAINER ID  IMAGE                                 COMMAND    CREATED         STATUS                         PORTS  NAMES
# | fc4f9980fe0a  docker.io/library/ubuntu:latest       uptime     3 seconds ago   Created                               admiring_dijkstra
# | 348902c0561c  docker.io/library/ubuntu:latest       /bin/bash  10 minutes ago  Exited (0) About a minute ago         gifted_booth
# | 779800ec7966  docker.io/library/busybox:latest      sh         2 days ago      Exited (0) 2 days ago                 admiring_nightingale
# | 9a20dd1593c4  docker.io/library/hello-world:latest  /hello     2 days ago      Exited (0) 2 days ago                 kind_kalam
# | [ec2-user@ip-172-31-21-124 ~]$
# | [ec2-user@ip-172-31-21-124 ~]$ sudo docker start -a fc4f9980fe0a
# | Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.
# |  00:36:39 up 2 days, 37 min,  0 users,  load average: 0.05, 0.06, 0.02
# | [ec2-user@ip-172-31-21-124 ~]$
#
# * Restarting a container 
# When a container is exited then it doesnot mean that it is dead or it cannot be started again 
# You can always restart the same container using the docker start method which will help you to re-issue the same default command. 
# Kindly note when you are starting an exited container you won't be able to attach or trigger new commands to it, it will only pick the default command
#
# | [ec2-user@ip-172-31-21-124 ~]$ sudo docker ps -a
# | Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.
# | CONTAINER ID  IMAGE                                 COMMAND    CREATED         STATUS                     PORTS  NAMES
# | fc4f9980fe0a  docker.io/library/ubuntu:latest       uptime     19 minutes ago  Exited (0) 19 minutes ago         admiring_dijkstra
# | 348902c0561c  docker.io/library/ubuntu:latest       /bin/bash  30 minutes ago  Exited (0) 21 minutes ago         gifted_booth
# | 779800ec7966  docker.io/library/busybox:latest      sh         2 days ago      Exited (0) 2 days ago             admiring_nightingale
# | 9a20dd1593c4  docker.io/library/hello-world:latest  /hello     2 days ago      Exited (0) 2 days ago             kind_kalam
# | [ec2-user@ip-172-31-21-124 ~]$
# | [ec2-user@ip-172-31-21-124 ~]$ sudo docker start -a fc4f9980fe0a
# | Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.
# |  00:56:26 up 2 days, 57 min,  0 users,  load average: 0.00, 0.00, 0.00
# | [ec2-user@ip-172-31-21-124 ~]$
# | [ec2-user@ip-172-31-21-124 ~]$ sudo docker start -a fc4f9980fe0a ls			-> Note that same container doesnot allow to override the default command
# | Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.
# | you cannot start and attach multiple containers at once
# | [ec2-user@ip-172-31-21-124 ~]$
# |
#
# Detail Tutorial : https://www.udemy.com/docker-and-kubernetes-the-complete-guide/learn/lecture/11436652?start=139#bookmarks
#
# * How to delete a container
# If you no longer need the container instance then you can delete them by using 'docker rm' or 'docker system prune' command 
#
# Syntax : docker rm [conatiner_ID | all]
# Syntax : docker system prune           --> This will delete all containers 
#
# | [ec2-user@ip-172-31-21-124 ~]$ docker ps --all
# | Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.
# | CONTAINER ID  IMAGE                             COMMAND  CREATED            STATUS                        PORTS  NAMES
# | f1beb2b1f2db  docker.io/library/busybox:latest  uptime   About an hour ago  Exited (0) About an hour ago         suspicious_wiles
# | d782303fb193  docker.io/library/busybox:latest  uptime   About an hour ago  Exited (0) About an hour ago         priceless_darwin
# | 70cf55e7554e  docker.io/library/busybox:latest  sh       About an hour ago  Exited (0) About an hour ago         gracious_hamilton
# | 839d4ec68f32  docker.io/library/busybox:latest  sh       About an hour ago  Created                              optimistic_khorana
# | ac96670a3ff1  docker.io/library/busybox:latest  uptime   2 hours ago        Exited (0) 2 hours ago               pedantic_shirley
# | db8671b4bc4f  docker.io/library/busybox:latest  ls       2 hours ago        Exited (0) 2 hours ago               cocky_clarke
# | a7bce2f35192  docker.io/library/busybox:latest  ls       2 hours ago        Exited (0) 2 hours ago               vigorous_bassi
# | [ec2-user@ip-172-31-21-124 ~]$
# | [ec2-user@ip-172-31-21-124 ~]$ docker rm f1beb2b1f2db                           --> Deleteing only one Container
# | Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.
# | f1beb2b1f2db4040ea21e964999f706c932de4b76baef80b86f149e4866ccf63
# | [ec2-user@ip-172-31-21-124 ~]$
# | [ec2-user@ip-172-31-21-124 ~]$ docker rm --all				    --> Deleting all containers 
# | Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.
# | 70cf55e7554edaa85ba8c6eb2ffa05c545b83491355ee48701d47f4bcb56ca9f
# | ac96670a3ff19ac728ee0739333198de315ab3feed187d43f1f8da1cc2848e10
# | 839d4ec68f32dfe7d18e75e5ffa6fec6f176e8357770c4c938ae1531d357f31b
# | a7bce2f3519201c38bf07211a8248d131e96d475641ca4d4523dff532b915989
# | d782303fb1936afd32f9216c0255c702dca3cd5b4c10131558dd22c0db9e9c37
# | db8671b4bc4f9eaf5f119cca11823fa898c08a096e683c4b091e22f284710f07
# | [ec2-user@ip-172-31-21-124 ~]$
# | [ec2-user@ip-172-31-21-124 ~]$ docker ps --all
# | Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.
# | CONTAINER ID  IMAGE  COMMAND  CREATED  STATUS  PORTS  NAMES
# | [ec2-user@ip-172-31-21-124 ~]$
# |
#
# * Logs in docker 
# You can checks the logs from a container using the docker logs command
#
# Syntax : docker logs <conatiner_ID>
#
# Example: Below example show how to get the logs for a specific container 
#
# |
# | [ec2-user@ip-172-31-21-124 ~]$ sudo docker ps --all
# | Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.
# | CONTAINER ID  IMAGE                                 COMMAND    CREATED            STATUS                        PORTS  NAMES
# | fc4f9980fe0a  docker.io/library/ubuntu:latest       uptime     About an hour ago  Exited (0) 25 minutes ago            admiring_dijkstra
# | 348902c0561c  docker.io/library/ubuntu:latest       /bin/bash  About an hour ago  Exited (0) About an hour ago         gifted_booth
# | 779800ec7966  docker.io/library/busybox:latest      sh         2 days ago         Exited (0) 2 days ago                admiring_nightingale
# | 9a20dd1593c4  docker.io/library/hello-world:latest  /hello     2 days ago         Exited (0) 2 days ago                kind_kalam
# | [ec2-user@ip-172-31-21-124 ~]$
# | [ec2-user@ip-172-31-21-124 ~]$ sudo docker logs fc4f9980fe0a
# | Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.
# |  00:36:39 up 2 days, 37 min,  0 users,  load average: 0.05, 0.06, 0.02
# |  00:56:26 up 2 days, 57 min,  0 users,  load average: 0.00, 0.00, 0.00
# | [ec2-user@ip-172-31-21-124 ~]$
# |
# 
# * Stopping a container 
# To stop a running container you have two methods either you can use the 'stop' method you can use the 'kill' method.
# Stop - This is a graceful method where issuing the kill method it wait for some seconds so that continer has bring down the process
# Kill - This method will immedietely issue the sigterm signal to kill the container 
#
# Syntax : docker stop <Container_ID>
#        : docker kill <Container_ID>
#
# Example : Below example will show us about killing the docker container 
# 
# | [ec2-user@ip-172-31-21-124 ~]$ sudo docker create busybox ping google.com			--> Creating a long running container
# | Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.
# | 0c1192c600ae61e1a825cb0fb03f1ec7f5939d6d5e3881c2697cf20af9bcae25
# | [ec2-user@ip-172-31-21-124 ~]$
# | [ec2-user@ip-172-31-21-124 ~]$ sudo docker ps -a
# | Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.
# | CONTAINER ID  IMAGE                                 COMMAND          CREATED        STATUS                   PORTS  NAMES
# | 0c1192c600ae  docker.io/library/busybox:latest      ping google.com  3 seconds ago  Created                         friendly_lamport	--> Created 
# | fc4f9980fe0a  docker.io/library/ubuntu:latest       uptime           24 hours ago   Exited (0) 23 hours ago         admiring_dijkstra
# | 348902c0561c  docker.io/library/ubuntu:latest       /bin/bash        24 hours ago   Exited (0) 24 hours ago         gifted_booth
# | 779800ec7966  docker.io/library/busybox:latest      sh               3 days ago     Exited (0) 3 days ago           admiring_nightingale
# | 9a20dd1593c4  docker.io/library/hello-world:latest  /hello           3 days ago     Exited (0) 3 days ago           kind_kalam
# | [ec2-user@ip-172-31-21-124 ~]$ sudo docker start 0c1192c600ae										--> Starting 
# | Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.
# | 0c1192c600ae
# | [ec2-user@ip-172-31-21-124 ~]$
# | [ec2-user@ip-172-31-21-124 ~]$ sudo docker ps -a
# | Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.
# | CONTAINER ID  IMAGE                                 COMMAND          CREATED         STATUS                   PORTS  NAMES
# | 0c1192c600ae  docker.io/library/busybox:latest      ping google.com  40 seconds ago  Up 26 seconds ago               friendly_lamport	--> up and running 
# | fc4f9980fe0a  docker.io/library/ubuntu:latest       uptime           24 hours ago    Exited (0) 23 hours ago         admiring_dijkstra
# | 348902c0561c  docker.io/library/ubuntu:latest       /bin/bash        24 hours ago    Exited (0) 24 hours ago         gifted_booth
# | 779800ec7966  docker.io/library/busybox:latest      sh               3 days ago      Exited (0) 3 days ago           admiring_nightingale
# | 9a20dd1593c4  docker.io/library/hello-world:latest  /hello           3 days ago      Exited (0) 3 days ago           kind_kalam
# | [ec2-user@ip-172-31-21-124 ~]$
# | [ec2-user@ip-172-31-21-124 ~]$ sudo docker stop 0c1192c600ae										--> graceful shutdown
# | Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.
# | 0c1192c600ae61e1a825cb0fb03f1ec7f5939d6d5e3881c2697cf20af9bcae25
# | [ec2-user@ip-172-31-21-124 ~]$
# | [ec2-user@ip-172-31-21-124 ~]$ sudo docker start 0c1192c600ae
# | Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.
# | 0c1192c600ae
# | [ec2-user@ip-172-31-21-124 ~]$
# | [ec2-user@ip-172-31-21-124 ~]$ sudo docker kill 0c1192c600ae										--> Killed immedietely 
# | Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.
# | 0c1192c600ae61e1a825cb0fb03f1ec7f5939d6d5e3881c2697cf20af9bcae25
# | [ec2-user@ip-172-31-21-124 ~]$
# |
#
# Udemy Detailed : https://www.udemy.com/docker-and-kubernetes-the-complete-guide/learn/lecture/11436664?start=96#bookmarks
#
# * How to run a command inside a container 
# While a container is running there will be requirement for you to run the commands and fetch output from them. 
# While you ran the command it will interact with the container and then it will provide the output from the container. 
# When you try to ran an output from the command, then you will need to provide container id to fatch the output 
#
# Syntax : docker exec -it <Container_ID> <command>
#
# Example : Below command will help you to fetch uptime from a running container 
#
# | ec2-user@ip-172-31-21-124 ~]$ sudo docker ps -a
# | Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.
# | CONTAINER ID  IMAGE                                 COMMAND          CREATED         STATUS                         PORTS  NAMES
# | 0c1192c600ae  docker.io/library/busybox:latest      ping google.com  21 minutes ago  Exited (137) 19 minutes ago           friendly_lamport
# | fc4f9980fe0a  docker.io/library/ubuntu:latest       uptime           24 hours ago    Exited (0) 24 hours ago               admiring_dijkstra
# | 348902c0561c  docker.io/library/ubuntu:latest       /bin/bash        24 hours ago    Exited (0) About a minute ago         gifted_booth
# | 779800ec7966  docker.io/library/busybox:latest      sh               3 days ago      Exited (0) 3 days ago                 admiring_nightingale
# | 9a20dd1593c4  docker.io/library/hello-world:latest  /hello           3 days ago      Exited (0) 3 days ago                 kind_kalam
# | [ec2-user@ip-172-31-21-124 ~]$
# | [ec2-user@ip-172-31-21-124 ~]$ sudo docker start 0c1192c600ae
# | Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.
# | 0c1192c600ae
# | [ec2-user@ip-172-31-21-124 ~]$
# | [ec2-user@ip-172-31-21-124 ~]$ sudo docker exec -it 0c1192c600ae uptime
# | Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.
# |  00:28:51 up 3 days, 29 min,  0 users,  load average: 0.00, 0.00, 0.00
# | [ec2-user@ip-172-31-21-124 ~]$
#
# NOTE : Here "-it' flag which we have used is important, reason is it helps  us to interact with the contaciner in a ternimal
# -i  : This means attch my terminal to container while running the comamnds 
# -t  : this means output should be printed in a nice terminal format
#
# * How to launch a shell insider a container
# Instead of running command all the time using 'exec' method you can always launch a shell in container. 
# You can launch the shell with 'sh' or 'zsh' along with the exec input for command. 
#
# Syntax : docker exec -it <container_id> [sh | zsh]
#
# Example : Below command will launch a shell 
#
# | [ec2-user@ip-172-31-21-124 ~]$ sudo docker ps
# | Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.
# | CONTAINER ID  IMAGE                             COMMAND          CREATED       STATUS           PORTS  NAMES
# | 0c1192c600ae  docker.io/library/busybox:latest  ping google.com  23 hours ago  Up 23 hours ago         friendly_lamport
# | [ec2-user@ip-172-31-21-124 ~]$
# | [ec2-user@ip-172-31-21-124 ~]$ sudo docker exec -it 0c1192c600ae sh
# | Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.
# | / # uname -a
# | Linux 0c1192c600ae 4.18.0-80.el8.x86_64 #1 SMP Wed Mar 13 12:02:46 UTC 2019 x86_64 GNU/Linux
# | / # more /etc/
# | group        hostname     hosts        localtime    network/     passwd       resolv.conf  shadow
# | / # ls
# | bin   dev   etc   home  proc  root  run   sys   tmp   usr   var
# | / # exit
# | [ec2-user@ip-172-31-21-124 ~]$
# |
#
# * How to start a container with a shell 
# You can always launch a container with a shell by attaching the 'sh' command with '-it' flag while running the container
# The downside for this approach will be you will be only running that shell with the container and there won't be any apps running 
# As soon as you exit the shell it will terminate the session. 
#
# Syntax : docker run -it <image_name> sh
#
# Example : below example will show you how to launch a shell 
#
# | [ec2-user@ip-172-31-21-124 ~]$ sudo docker ps -a
# | Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.
# | CONTAINER ID  IMAGE                                 COMMAND               CREATED       STATUS                     PORTS  NAMES
# | 1016f0da1363  docker.io/library/mariadb:10.3        docker-entrypoint...  22 hours ago  Exited (1) 10 minutes ago         xenodochial_euler
# | 0c1192c600ae  docker.io/library/busybox:latest      ping google.com       23 hours ago  Up 23 hours ago                   friendly_lamport
# | fc4f9980fe0a  docker.io/library/ubuntu:latest       uptime                47 hours ago  Exited (0) 47 hours ago           admiring_dijkstra
# | 348902c0561c  docker.io/library/ubuntu:latest       /bin/bash             47 hours ago  Exited (0) 23 hours ago           gifted_booth
# | 779800ec7966  docker.io/library/busybox:latest      sh                    3 days ago    Exited (0) 3 days ago             admiring_nightingale
# | 9a20dd1593c4  docker.io/library/hello-world:latest  /hello                3 days ago    Exited (0) 3 days ago             kind_kalam
# | [ec2-user@ip-172-31-21-124 ~]$
# | [ec2-user@ip-172-31-21-124 ~]$ sudo docker run -i -t busybox sh
# | Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.
# | / #
# | / #
# | / # pwd
# | /
# | / # ls
# | bin   dev   etc   home  proc  root  run   sys   tmp   usr   var
# | / # ls /var
# | spool  www
# | / # ls /etc/init.d
# | ls: /etc/init.d: No such file or directory
# | / # exit
# | [ec2-user@ip-172-31-21-124 ~]$ sudo docker ps -a
# | Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.
# | CONTAINER ID  IMAGE                                 COMMAND               CREATED         STATUS                     PORTS  NAMES
# | cc80521b1b45  docker.io/library/busybox:latest      sh                    54 seconds ago  Exited (1) 18 seconds ago         nervous_turing
# | 1016f0da1363  docker.io/library/mariadb:10.3        docker-entrypoint...  22 hours ago    Exited (1) 11 minutes ago         xenodochial_euler
# | 0c1192c600ae  docker.io/library/busybox:latest      ping google.com       23 hours ago    Up 23 hours ago                   friendly_lamport
# | fc4f9980fe0a  docker.io/library/ubuntu:latest       uptime                47 hours ago    Exited (0) 47 hours ago           admiring_dijkstra
# | 348902c0561c  docker.io/library/ubuntu:latest       /bin/bash             47 hours ago    Exited (0) 23 hours ago           gifted_booth
# | 779800ec7966  docker.io/library/busybox:latest      sh                    3 days ago      Exited (0) 3 days ago             admiring_nightingale
# | 9a20dd1593c4  docker.io/library/hello-world:latest  /hello                3 days ago      Exited (0) 3 days ago             kind_kalam
# | [ec2-user@ip-172-31-21-124 ~]$
# |
#
# Udemy Detail : https://www.udemy.com/docker-and-kubernetes-the-complete-guide/learn/lecture/11436674?start=67#bookmarks
#
# * Container Isolation 
# When you are running multiple containers from same image they are created and stored in the filesystem seperately. 
# Which means there is no direct relationship between the filesystem created between the containers. 
# If you are creating a container A and Container B from the same image then you create few files under A, then that is going remain only in A and cannot see in B. 
#
# Udemy Detail : https://www.udemy.com/docker-and-kubernetes-the-complete-guide/learn/lecture/11436678?start=4#bookmarks
# 
#---------------------------------------------------------------------------------------------
#  Chapter 03 - Building custom images through Docker Server
#---------------------------------------------------------------------------------------------
#
# * Docker Build
# For doing docker build it uses 'Dockerfile' which is explained in detail in the next session. 
# Once you call the docker build it goes theough a set of process 
# 
# Process : Dockerfile => Docker Client (we interact with build command) => Docker Server (which process the request) => Process and Create a usable image 
#
# Syntax : vi Dockerfile
#          docker build . 
#
# Note : here '.' is denoted as the build context and Dockerfile should always start with 'D'
#
# * Docker file
# Docker build is normally done through a dockerfile and it has mainly three sessions 'Build', 'Run' and 'Command'
# At each stage there are certain process takes place and which will result in creating the image. 
#
# Build : At this stage you will need to specify the location from which you are going to download the base image. 
#       : Upon completion of the this stage base image will be downloaded and it will spin up a temporary container which can be said as a staging conatiner 
#
# Run   : Here will be mentioning the list of software we need to install etc
#       : At this stage the staging cotainer which created above will be used to install all packages within it. 
#       : Once its completes its phase it updates or save the image and destroy the staging container. 
#
# CMD   : At this stage it will spin up another staging container and then it will update the startup command etc to that container. 
#       : Once this stage is done, then it will update save the container to the image and then destroy the container. 
#
# Udemy Detail : https://www.udemy.com/docker-and-kubernetes-the-complete-guide/learn/lecture/11436706?start=228#bookmarks
#
# * Creating a Dockerfile 
# You can setup a directory to create a docker image, then setup a docker file similar to below 
#
# | [ec2-user@ip-172-31-21-124 docker_local_hub]$ cd /apps/docker_local_hub/apache/    --> make a directory specific to that build process
# | [ec2-user@ip-172-31-21-124 apache]$ ls
# | Dockerfile
# | [ec2-user@ip-172-31-21-124 apache]$ 
# | [ec2-user@ip-172-31-21-124 apache]$ more Dockerfile
# | # BUILD - What base image we are going to use here
# | FROM centos
# |
# | # RUN - Download and install dependancy for the new image
# | RUN yum install httpd -y -q 
# |
# | # CMD - Tell what command or action it need to perform during startup
# | CMD ["/usr/sbin/httpd”, “-D”, “FOREGROUND”]
# |
# | [ec2-user@ip-172-31-21-124 apache]$
# |
#
# * Building a Docker Image 
# Once above steps are done, then perform below steps 
#
# | [ec2-user@ip-172-31-21-124 apache]$ more Dockerfile 
# | # BUILD - What base image we are going to use here 
# | FROM centos
# | 
# | # RUN - Download and install dependancy for thennnnn21 new image 
# | RUN yum install httpd -y -q
# | 
# | # CMD - Tell what command or action it need to perform during startup
# | CMD ["/usr/sbin/httpd"]
# | 
# | [ec2-user@ip-172-31-21-124 apache]$ sudo docker build . 
# | Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.
# | STEP 1: FROM centos
# | STEP 2: RUN yum install httpd -y -q
# | warning: /var/cache/yum/x86_64/7/base/packages/apr-util-1.5.2-6.el7.x86_64.rpm: Header V3 RSA/SHA256 Signature, key ID f4a80eb5: NOKEY
# | Public key for apr-util-1.5.2-6.el7.x86_64.rpm is not installed
# | Public key for httpd-tools-2.4.6-89.el7.centos.x86_64.rpm is not installed
# | Importing GPG key 0xF4A80EB5:
# |  Userid     : "CentOS-7 Key (CentOS 7 Official Signing Key) <security@centos.org>"
# |  Fingerprint: 6341 ab27 53d7 8a78 a7c2 7bb1 24c6 a8a7 f4a8 0eb5
# |  Package    : centos-release-7-6.1810.2.el7.centos.x86_64 (@CentOS)
# |  From       : /etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-7
# | --> 750a90fe719bd9dd6162fc8fce5092c762fb729b23ee9d178d6131e2e2788f1c
# | STEP 3: FROM 750a90fe719bd9dd6162fc8fce5092c762fb729b23ee9d178d6131e2e2788f1c
# | STEP 4: CMD ["/usr/sbin/httpd", "-DNO_DETACH"]
# | --> 2ed0af508b4fbe38557e7c9beccae772203d2dcd4747fb3498c0118eef161301
# | STEP 5: COMMIT 
# | [ec2-user@ip-172-31-21-124 apache]$ sudo docker image list 
# | Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.
# | REPOSITORY                      TAG      IMAGE ID       CREATED              SIZE
# | <none>                          <none>   2ed0af508b4f   About a minute ago   347 MB    ==> New image created
# | docker.io/library/fedora        latest   289289d1a15b   2 weeks ago          326 MB
# | docker.io/library/busybox       latest   ef46e0caa533   2 weeks ago          1.43 MB
# | docker.io/library/mariadb       10.3     56089178535f   2 weeks ago          356 MB
# | docker.io/library/mariadb       latest   56089178535f   2 weeks ago          356 MB
# | docker.io/library/ubuntu        latest   7698f282e524   5 weeks ago          72.3 MB
# | docker.io/library/centos        latest   9f38484d220f   3 months ago         209 MB
# | docker.io/library/hello-world   latest   fce289e99eb9   5 months ago         5.62 kB
# | [ec2-user@ip-172-31-21-124 apache]$ sudo docker run 2ed0af508b4f
# | Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.
# | AH00558: httpd: Could not reliably determine the server's fully qualified domain name, using 10.88.0.30. Set the 'ServerName' directive globally to suppress this message
# | [ec2-user@ip-172-31-21-124 apache]$
# | [ec2-user@ip-172-31-21-124 apache]$ sudo docker ps 
# | Emulate Docker CLI using podman. Create /etc/containers/nodocker to quiet msg.
# | CONTAINER ID  IMAGE                                                             COMMAND               CREATED         STATUS             PORTS  NAMES
# | 76fc5b8c1a22  2ed0af508b4fbe38557e7c9beccae772203d2dcd4747fb3498c0118eef161301  /usr/sbin/httpd -...  18 seconds ago  Up 18 seconds ago         wonderful_poincare  ==> New Container
# | 0c1192c600ae  docker.io/library/busybox:latest                                  ping google.com       10 days ago     Up 10 days ago            friendly_lamport
# | [ec2-user@ip-172-31-21-124 apache]$ 
# | 
#
# Udemy Detail : https://www.udemy.com/docker-and-kubernetes-the-complete-guide/learn/lecture/11436706?start=228#bookmarks
#
#
#
#
#



